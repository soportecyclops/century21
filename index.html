<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Cyclops CRM</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">
        <div class="mark">C21</div>
        <div>
          <h1>Cyclops CRM</h1>
          <div class="muted">Panel privado de gestión de potenciales clientes</div>
        </div>
      </div>
    </header>

    <main class="card login-wrap">
      <section class="login-panel">
        <h2>Iniciar sesión</h2>
        <p class="muted">Acceso seguro. Solo usuarios autorizados.</p>
        <form id="login-form">
          <label>Email</label>
          <input id="email" type="email" required placeholder="tu@correo.com">
          <label>Contraseña</label>
          <input id="password" type="password" required placeholder="********">
          <div class="login-buttons">
            <button type="submit">Entrar</button>
            <button type="button" id="btn-signup">Crear cuenta</button>
            <button type="button" id="btn-signout" class="hidden">Cerrar sesión</button>
          </div>
        </form>
      </section>

      <section id="panel" class="card">
        <div class="topbar">
          <div>
            <strong id="user-welcome">Usuario</strong>
            <div class="muted" id="user-role">role</div>
          </div>
          <div>
            <button id="btn-new">Nuevo cliente</button>
            <button id="btn-logout">Salir</button>
          </div>
        </div>

        <div id="list-section">
          <input id="q" placeholder="Buscar por nombre, email o celular" class="search">
          <table>
            <thead>
              <tr>
                <th>Nombre</th>
                <th>Contacto</th>
                <th>Estado</th>
                <th>Presupuesto</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody id="clients-tbody"></tbody>
          </table>
        </div>

        <div id="form-section" class="hidden">
          <h3 id="form-title">Nuevo cliente</h3>
          <form id="client-form">
            <input type="hidden" id="client-id">

            <label>Nombre</label><input id="c-nombre" required>
            <label>Apellido</label><input id="c-apellido">
            <label>Instagram</label><input id="c-instagram">
            <label>Celular</label><input id="c-celular">
            <label>Email</label><input id="c-email" type="email">
            <label>Fecha alta</label><input id="c-fecha_alta" type="date">
            <label>Tipo contacto</label><input id="c-tipo_contacto">
            <label>Tipo cliente</label><input id="c-tipo_cliente">
            <label>Direccion</label><input id="c-direccion">
            <label>Localidad</label><input id="c-localidad">
            <label>Partido</label><input id="c-partido">
            <label>Fecha próximo contacto</label><input id="c-fecha_proximo_contacto" type="date">
            <label>Estado</label><input id="c-estado">
            <label>Origen</label><input id="c-origen">
            <label>Necesita vender</label>
            <select id="c-necesita_vender">
              <option value="false">No</option>
              <option value="true">Sí</option>
            </select>
            <label>Presupuesto compra</label><input id="c-presupuesto_compra" type="number" step="0.01">
            <label>Zona búsqueda</label><input id="c-zona_busqueda">
            <label>Observaciones</label><textarea id="c-observaciones"></textarea>

            <div class="form-buttons">
              <button type="submit">Guardar</button>
              <button type="button" id="btn-cancel">Cancelar</button>
              <button type="button" id="btn-delete" class="hidden">Eliminar</button>
            </div>
          </form>
        </div>

      </section>
    </main>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.27.0/dist/umd/supabase.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
